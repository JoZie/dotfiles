
#source /lib/python3.5/site-packages/powerline/bindings/tmux/powerline.conf

# set -g default-terminal "xterm-256color"
# set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "screen-256color"

# change key binding from C-b to Emacs style C-x
set-option -g prefix C-x
unbind-key C-b
bind-key C-x send-prefix

set-option -g history-limit 300000
set -s escape-time 0

# default shell
set-option -g default-shell /usr/bin/zsh

set -g set-titles on
set -g set-titles-string "Tmux -#S- @#H"


bind -n End send-key C-e
bind -n Home send-key C-a
# mouse
# (hold shift key down to copy text using mouse)
#setw -g mode-mouse on
#set -g mouse-select-pane on
#set -g mouse-resize-pane on

# interface
#------------
# pane
#------------
set -g pane-border-fg black
set -g pane-active-border-fg blue

#------------
# tabs
#------------
setw -g window-status-format "#[fg=white]#[bg=colour237] #I #[bg=black]#[fg=white] #W "
setw -g window-status-current-format "#[bg=red]#[fg=white] #I #[fg=white,bold]#[bg=green] #W "
#setw -g window-status-content-attr bold,blink,reverse

#------------
# status bar
#------------
set-option -g status-position top
set -g status-fg white
set -g status-bg black
set -g status-left ''
set -g status-right-length 60
set -g status-right '♪ #(exec pamixer --get-volume)% | ♥#(acpi | cut -d ',' -f 2) | %a %d-%m %H:%M'

#------------
# copy mode
#------------
# setw -g mode-keys vi

# # Setup 'v' to begin selection as in Vim
# bind-key -t vi-copy v begin-selection
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# # Update default binding of `Enter` to also use copy-pipe
# unbind -t vi-copy Enter
# bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

bind-key -n  C-t        new-window
bind-key -n  C-Pageup   previous-window
bind-key -n  C-Pagedown next-window

bind-key -nr M-Up       select-pane -U
bind-key -nr M-Down     select-pane -D
bind-key -nr M-Left     select-pane -L
bind-key -nr M-Right    select-pane -R


#### COLOUR (Solarized 256)

# default statusbar colors
# set-option -g status-bg colour235 #base02
# set-option -g status-fg colour136 #yellow
# set-option -g status-attr default

# # default window title colors
# set-window-option -g window-status-fg colour244 #base0
# set-window-option -g window-status-bg default
# #set-window-option -g window-status-attr dim

# # active window title colors
# set-window-option -g window-status-current-fg colour166 #orange
# set-window-option -g window-status-current-bg default
# #set-window-option -g window-status-current-attr bright

# # pane border
# set-option -g pane-border-fg colour235 #base02
# set-option -g pane-active-border-fg colour240 #base01

# # message text
# set-option -g message-bg colour235 #base02
# set-option -g message-fg colour166 #orange

# # pane number display
# set-option -g display-panes-active-colour colour33 #blue
# set-option -g display-panes-colour colour166 #orange

# # clock
# set-window-option -g clock-mode-colour colour64 #green

# # bell
# set-window-option -g window-status-bell-style fg=colour235,bg=colour160 #base02, red

# C-c: save into system clipboard (+). With preselection.
bind C-c choose-buffer "run \"tmux save-buffer -b %% - | xclip -i -sel clipboard\" \; run \" tmux display \\\"Clipboard \(+\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-v: copy from + clipboard.
bind C-v run "tmux set-buffer \"$(xclip -o -sel clipboard)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(+\) $(xclip -o -sel clipboard | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""

# C-d: save into selection clipboard (*). With preselection.
bind C-d choose-buffer "run \"tmux save-buffer -b %% - | xclip -i\" \; run \" tmux display \\\"Clipboard \(*\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-f: copy from * clipboard.
bind C-f run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(*\) $(xclip -o | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""

# List of plugins
# Supports `github_username/repo` or full git URLs
 set -g @plugin 'tmux-plugins/tpm'
 set -g @plugin 'tmux-plugins/tmux-resurrect'


set -ga terminal-overrides ",xterm-termite:Tc"
# Other examples:
# github_username/plugin_name    \
# git@github.com/user/plugin     \
# git@bitbucket.com/user/plugin  \

# Initializes TMUX plugin manager.
# Keep this line at the very bottom of tmux.conf.
run-shell ~/.tmux/plugins/tpm/tpm
